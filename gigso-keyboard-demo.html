<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GigsoKeyboard Component - Gigso Demo</title>
    <meta
      name="description"
      content="Interactive demo of GigsoKeyboard component"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui,
          sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(180deg, #f9e6c3 0%, #ffffff 100%);
        min-height: 100vh;
      }

      gigso-keyboard {
        width: 100%;
      }

      /* Header */
      .demo-header {
        background: linear-gradient(135deg, #08113e 0%, #0dc9bb 100%);
        color: white;
        padding: 60px 20px 40px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .demo-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><pattern id="music" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="20" fill="url(%23music)"/></svg>');
        animation: float 20s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateX(0px) translateY(0px);
        }
        50% {
          transform: translateX(-10px) translateY(-5px);
        }
      }

      .demo-header-content {
        position: relative;
        z-index: 2;
        max-width: 1200px;
        margin: 0 auto;
      }

      .demo-header h1 {
        font-size: clamp(2.5rem, 5vw, 3.5rem);
        font-weight: 700;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, #ffe448, #f9e6c3);
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .demo-breadcrumb {
        margin-bottom: 20px;
        opacity: 0.9;
      }

      .demo-breadcrumb a {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .demo-breadcrumb a:hover {
        color: #ffe448;
      }

      .demo-header p {
        font-size: 1.3rem;
        opacity: 0.9;
        margin-bottom: 30px;
      }

      .demo-actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn {
        padding: 12px 24px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: none;
        cursor: pointer;
        font-size: 0.95rem;
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-2px);
      }

      /* Container */
      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Component Showcase */
      .component-showcase {
        background: white;
        border-radius: 20px;
        padding: 40px;
        margin: -30px 20px 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        position: relative;
        z-index: 3;
      }

      .showcase-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .showcase-header h2 {
        font-size: 2rem;
        font-weight: 700;
        color: #08113e;
        margin-bottom: 10px;
      }

      .showcase-header p {
        color: #6c757d;
        font-size: 1.1rem;
      }

      .component-container {
        background: rgba(249, 230, 195, 0.2);
        border: 2px solid rgba(13, 201, 187, 0.2);
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
        min-height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow-x: auto;
      }

      /* Controls Section */
      .controls-section {
        background: white;
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
      }

      .controls-header h3 {
        font-size: 1.5rem;
        font-weight: 600;
        color: #08113e;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .controls-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .control-group label {
        font-weight: 600;
        color: #08113e;
        font-size: 0.9rem;
      }

      .control-group input,
      .control-group select {
        padding: 10px 15px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
      }

      .control-group input:focus,
      .control-group select:focus {
        outline: none;
        border-color: #0dc9bb;
      }

      .control-group button {
        padding: 10px 20px;
        background: linear-gradient(45deg, #f67e07, #ffe448);
        color: #08113e;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .control-group button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(246, 126, 7, 0.3);
      }

      .control-group button.secondary {
        background: linear-gradient(45deg, #6c757d, #adb5bd);
        color: white;
      }

      .control-group button.secondary:hover {
        box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
      }

      /* Status */
      .status {
        padding: 15px 20px;
        border-radius: 10px;
        font-weight: 500;
        margin-top: 20px;
      }

      .status.info {
        background: rgba(13, 201, 187, 0.1);
        color: #0dc9bb;
        border-left: 4px solid #0dc9bb;
      }

      .status.success {
        background: rgba(96, 176, 91, 0.1);
        color: #60b05b;
        border-left: 4px solid #60b05b;
      }

      .status.warning {
        background: rgba(250, 177, 92, 0.1);
        color: #fab15c;
        border-left: 4px solid #fab15c;
      }

      .status.error {
        background: rgba(225, 69, 62, 0.1);
        color: #e1453e;
        border-left: 4px solid #e1453e;
      }

      /* Documentation Section */
      .docs-section {
        background: white;
        border-radius: 20px;
        padding: 0;
        margin-bottom: 30px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        overflow: hidden;
      }

      .tabs {
        display: flex;
        border-bottom: 2px solid #f8f9fa;
        background: #f8f9fa;
      }

      .tab {
        padding: 15px 25px;
        border: none;
        background: transparent;
        color: #6c757d;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        border-bottom: 3px solid transparent;
      }

      .tab.active {
        color: #0dc9bb;
        border-bottom-color: #0dc9bb;
        background: white;
      }

      .tab:hover:not(.active) {
        color: #08113e;
        background: rgba(13, 201, 187, 0.05);
      }

      .tab-content {
        padding: 30px;
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .tab-content h3 {
        font-size: 1.5rem;
        font-weight: 600;
        color: #08113e;
        margin-bottom: 20px;
      }

      .tab-content p {
        color: #6c757d;
        line-height: 1.8;
        margin-bottom: 15px;
      }

      /* Event Log */
      .event-log {
        background: #1a1a1a;
        color: #f8f9fa;
        border-radius: 10px;
        padding: 20px;
        max-height: 300px;
        overflow-y: auto;
        font-family: "Courier New", monospace;
        font-size: 0.9rem;
      }

      .event {
        margin-bottom: 5px;
        padding: 5px 0;
      }

      .event.info {
        color: #0dc9bb;
      }
      .event.success {
        color: #60b05b;
      }
      .event.warning {
        color: #fab15c;
      }
      .event.error {
        color: #e1453e;
      }

      /* Footer */
      .demo-footer {
        background: #08113e;
        color: white;
        padding: 40px 20px;
        text-align: center;
        margin-top: 50px;
      }

      .demo-footer p {
        opacity: 0.8;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .demo-actions {
          flex-direction: column;
          align-items: center;
        }

        .btn {
          width: 100%;
          max-width: 300px;
          justify-content: center;
        }

        .component-showcase {
          margin: -30px 10px 30px;
          padding: 30px 20px;
        }

        .controls-grid {
          grid-template-columns: 1fr;
        }

        .tabs {
          flex-wrap: wrap;
        }

        .tab {
          flex: 1;
          min-width: 120px;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="demo-header">
      <div class="demo-header-content">
        <div class="demo-breadcrumb">
          <a href="index.html">‚Üê Back to Gigso Home</a> ‚Ä¢
          <a href="demos.html">All Demos</a> ‚Ä¢
          <span>GigsoKeyboard</span>
        </div>
        <h1>üéπ GigsoKeyboard Demo</h1>
        <p>Interactive piano keyboard for note playback and visual feedback</p>
        <div class="demo-actions">
          <a href="all-together-demo.html" class="btn btn-secondary"
            >üéµ Try Full Demo</a
          >
          <a href="demos.html" class="btn btn-secondary">üìö More Components</a>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- Component Showcase -->
      <div class="component-showcase">
        <div class="showcase-header">
          <h2>Component Preview</h2>
          <p>Interactive demonstration of the GigsoKeyboard component</p>
        </div>
        <div class="component-container" id="component-container">
          <gigsokeyboard id="demo-component"></gigsokeyboard>
        </div>
      </div>

      <!-- Controls Section -->
      <div class="controls-section">
        <div class="controls-header">
          <h3>üéõÔ∏è Interactive Controls</h3>
        </div>
        <div class="controls-grid" id="controls-grid">
          <div class="control-group">
            <label for="octave-select">Octave:</label>
            <select id="octave-select">
              <option value="3">Octave 3</option>
              <option value="4" selected>Octave 4</option>
              <option value="5">Octave 5</option>
            </select>
          </div>
          <div class="control-group">
            <label for="keyboard-size">Size:</label>
            <select id="keyboard-size">
              <option value="small">Small</option>
              <option value="medium" selected>Medium</option>
              <option value="large">Large</option>
            </select>
          </div>
          <div class="control-group">
            <label>Actions:</label>
            <button id="play-scale">Play Scale</button>
            <button id="stop-keys" class="secondary">Stop All</button>
          </div>
        </div>
        <div id="status" class="status info">
          GigsoKeyboard component loaded! Use the controls above to interact
          with the component.
        </div>
      </div>

      <!-- Documentation Section -->
      <div class="docs-section">
        <div class="tabs">
          <button class="tab active" onclick="showTab('overview')">
            Overview
          </button>
          <button class="tab" onclick="showTab('api')">API Reference</button>
          <button class="tab" onclick="showTab('events')">Events</button>
          <button class="tab" onclick="showTab('examples')">Examples</button>
          <button class="tab" onclick="showTab('events-log')">Event Log</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
          <h3>Component Overview</h3>
          <p>
            Interactive piano keyboard for note playback and visual feedback
          </p>
          <p>
            This interactive demo allows you to explore all the features and
            capabilities of the GigsoKeyboard component. Use the controls above
            to modify the component's behavior and see the results in real-time.
          </p>
        </div>

        <!-- API Reference Tab -->
        <div id="api" class="tab-content">
          <h3>API Reference</h3>
          <p>
            The GigsoKeyboard component provides a comprehensive API for
            integration into your applications.
          </p>
          <p>
            <strong>Properties:</strong> Configure the component with various
            properties to customize its behavior.
          </p>
          <p>
            <strong>Methods:</strong> Programmatically control the component
            using built-in methods for octave changes and audio control.
          </p>
          <p>
            <strong>Events:</strong> Listen to component events to respond to
            user interactions and state changes.
          </p>
        </div>

        <!-- Events Tab -->
        <div id="events" class="tab-content">
          <h3>Component Events</h3>
          <p>
            The GigsoKeyboard component emits various events that you can listen
            to:
          </p>
          <p>
            ‚Ä¢ <strong>Initialization:</strong> Fired when the component is ready
            for use
          </p>
          <p>‚Ä¢ <strong>Key Press:</strong> Fired when users press piano keys</p>
          <p>
            ‚Ä¢ <strong>Octave Changes:</strong> Fired when the octave is modified
          </p>
          <p>
            ‚Ä¢ <strong>Scale Play:</strong> Fired when scale sequences are played
          </p>
          <p>View the Event Log tab to see real-time events as they occur.</p>
        </div>

        <!-- Examples Tab -->
        <div id="examples" class="tab-content">
          <h3>Usage Examples</h3>
          <p>
            Here are some common ways to use the GigsoKeyboard component in your
            projects:
          </p>
          <p>
            <strong>Basic Usage:</strong><br /><code
              >&lt;gigsokeyboard&gt;&lt;/gigsokeyboard&gt;</code
            >
          </p>
          <p>
            <strong>With Properties:</strong><br /><code
              >&lt;gigsokeyboard octave="4"
              size="large"&gt;&lt;/gigsokeyboard&gt;</code
            >
          </p>
          <p>
            <strong>Event Listeners:</strong><br /><code
              >keyboard.addEventListener('keypress', handleKeyPress);</code
            >
          </p>
        </div>

        <!-- Event Log Tab -->
        <div id="events-log" class="tab-content">
          <h3>Event Log</h3>
          <div class="event-log" id="event-log">
            <div class="event info">Component initialized</div>
          </div>
        </div>
      </div>
    </div>

    <div class="demo-footer">
      <p>üéµ Gigso Component Demo - Built with modern web technologies</p>
    </div>

    <script>
      // Tab functionality
      function showTab(tabName) {
        // Hide all tab contents
        const tabContents = document.querySelectorAll(".tab-content");
        tabContents.forEach((content) => content.classList.remove("active"));

        // Remove active class from all tabs
        const tabs = document.querySelectorAll(".tab");
        tabs.forEach((tab) => tab.classList.remove("active"));

        // Show selected tab content
        document.getElementById(tabName).classList.add("active");

        // Add active class to clicked tab
        event.target.classList.add("active");
      }

      // Status update function
      function updateStatus(message, type = "info") {
        const status = document.getElementById("status");
        status.textContent = message;
        status.className = `status ${type}`;
      }

      // Event logging function
      function logEvent(message, type = "info") {
        const eventLog = document.getElementById("event-log");
        const eventDiv = document.createElement("div");
        eventDiv.className = `event ${type}`;
        eventDiv.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        eventLog.appendChild(eventDiv);
        eventLog.scrollTop = eventLog.scrollHeight;
      }

      // Initialize component
      document.addEventListener("DOMContentLoaded", function () {
        logEvent("GigsoKeyboard demo page loaded", "success");
      });
    </script>

    <!-- Component-specific script will be inserted here -->

    <!-- Load Tone.js for audio functionality -->
    <script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>

    <script type="module">
        import './components/gigso-keyboard/gigso-keyboard.js';
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('GigsoKeyboard Demo: DOM loaded');
            
            let retryCount = 0;
            const maxRetries = 50; // 5 seconds max
            
            // Wait for the custom element to be defined AND the component element to exist
            const waitForComponent = () => {
                retryCount++;
                if (retryCount > maxRetries) {
                    console.error('GigsoKeyboard Demo: Max retries exceeded, component failed to initialize');
                    logEvent('Component failed to initialize after maximum retries', 'error');
                    updateStatus('Error: Component failed to initialize', 'error');
                    return;
                }
                
                console.log(`GigsoKeyboard Demo: waitForComponent called (attempt ${retryCount}/${maxRetries})`);
                
                // First check if custom element is defined
                const customElement = customElements.get('gigso-keyboard');
                if (!customElement) {
                    console.log('GigsoKeyboard Demo: Custom element not defined yet, retrying...');
                    setTimeout(waitForComponent, 100);
                    return;
                }
                
                console.log('GigsoKeyboard Demo: Custom element is defined:', customElement);
                console.log('GigsoKeyboard Demo: Custom element name:', customElement.name);
                console.log('GigsoKeyboard Demo: Custom element prototype methods:', {
                    playScale: typeof customElement.prototype.playScale,
                    setOctave: typeof customElement.prototype.setOctave,
                    setSize: typeof customElement.prototype.setSize,
                    stopAll: typeof customElement.prototype.stopAll
                });
                
                // Check if component element exists and needs to be upgraded
                let component = document.getElementById('demo-component');
                if (!component) {
                    console.log('GigsoKeyboard Demo: Component element not found, retrying...');
                    logEvent('Component element not found, retrying...', 'warning');
                    setTimeout(waitForComponent, 100);
                    return;
                }
                
                console.log('GigsoKeyboard Demo: Component element found:', component);
                console.log('GigsoKeyboard Demo: Component tagName:', component.tagName);
                console.log('GigsoKeyboard Demo: Component constructor:', component.constructor.name);
                
                // If the element is still HTMLUnknownElement, we need to recreate it
                if (component.constructor.name === 'HTMLUnknownElement') {
                    console.log('GigsoKeyboard Demo: Component needs to be recreated, doing so now...');
                    
                    // Store the current attributes
                    const octaves = component.getAttribute('octaves');
                    const size = component.getAttribute('size');
                    
                    // Remove the old element
                    component.remove();
                    
                    // Create a new element
                    const newComponent = document.createElement('gigso-keyboard');
                    newComponent.id = 'demo-component';
                    if (octaves) newComponent.setAttribute('octaves', octaves);
                    if (size) newComponent.setAttribute('size', size);
                    
                    // Insert it back into the DOM
                    document.getElementById('component-container').appendChild(newComponent);
                    
                    // Update our reference
                    component = newComponent;
                    
                    console.log('GigsoKeyboard Demo: Component recreated:', component);
                    console.log('GigsoKeyboard Demo: New component constructor:', component.constructor.name);
                    
                    // Wait a bit for the new component to be fully initialized
                    setTimeout(() => {
                        // Continue with the normal flow
                        if (!component.shadowRoot) {
                            console.log('GigsoKeyboard Demo: New component shadow DOM not ready, retrying...');
                            setTimeout(waitForComponent, 100);
                            return;
                        }
                        
                        console.log('GigsoKeyboard Demo: New component shadow DOM ready');
                        
                        // Wait for the component to have keys rendered
                        const waitForKeys = () => {
                            const keys = component.shadowRoot.querySelectorAll('.key');
                            if (keys.length > 0) {
                                console.log('GigsoKeyboard Demo: New component has keys rendered, ready to use');
                                checkMethodsAndSetup(component);
                            } else {
                                console.log('GigsoKeyboard Demo: New component keys not ready, retrying...');
                                setTimeout(waitForKeys, 100);
                            }
                        };
                        
                        waitForKeys();
                    }, 100);
                    
                    return; // Exit early since we're handling the new component separately
                }
                
                // Wait for the component to be fully connected and have its shadow DOM
                if (!component.shadowRoot) {
                    console.log('GigsoKeyboard Demo: Component shadow DOM not ready, retrying...');
                    setTimeout(waitForComponent, 100);
                    return;
                }
                
                console.log('GigsoKeyboard Demo: Component shadow DOM ready');
                
                // Wait for the component to have keys rendered (indicating it's fully initialized)
                const waitForKeys = () => {
                    const keys = component.shadowRoot.querySelectorAll('.key');
                    if (keys.length > 0) {
                        console.log('GigsoKeyboard Demo: Component has keys rendered, ready to use');
                        
                        // Now check methods
                        checkMethodsAndSetup(component);
                    } else {
                        console.log('GigsoKeyboard Demo: Component keys not ready, retrying...');
                        setTimeout(waitForKeys, 100);
                    }
                };
                
                waitForKeys();
            };
            
            const checkMethodsAndSetup = (component) => {
                // Check if component has methods
                console.log('GigsoKeyboard Demo: Checking methods...');
                console.log('GigsoKeyboard Demo: playScale method:', typeof component.playScale);
                console.log('GigsoKeyboard Demo: setOctave method:', typeof component.setOctave);
                console.log('GigsoKeyboard Demo: setSize method:', typeof component.setSize);
                console.log('GigsoKeyboard Demo: stopAll method:', typeof component.stopAll);
                
                if (typeof component.playScale !== 'function') {
                    console.log('GigsoKeyboard Demo: Component methods not ready, retrying...');
                    logEvent('Component methods not ready, retrying...', 'warning');
                    setTimeout(() => checkMethodsAndSetup(component), 100);
                    return;
                }
                
                console.log('GigsoKeyboard Demo: Component is ready with methods:', {
                    playScale: typeof component.playScale,
                    setOctave: typeof component.setOctave,
                    setSize: typeof component.setSize,
                    stopAll: typeof component.stopAll
                });
                
                // Component is ready, set up event listeners
                setupComponent(component);
            };
            
            const setupComponent = (component) => {
                console.log('GigsoKeyboard Demo: setupComponent called with:', component);
                
                // Component-specific event listeners
                
                // GigsoKeyboard specific controls
                const octaveSelect = document.getElementById('octave-select');
                const keyboardSize = document.getElementById('keyboard-size');
                const playScaleBtn = document.getElementById('play-scale');
                const stopKeysBtn = document.getElementById('stop-keys');
                
                console.log('GigsoKeyboard Demo: Found controls:', {
                    octaveSelect: !!octaveSelect,
                    keyboardSize: !!keyboardSize,
                    playScaleBtn: !!playScaleBtn,
                    stopKeysBtn: !!stopKeysBtn
                });
                
                if (octaveSelect) {
                    octaveSelect.addEventListener('change', (e) => {
                        try {
                            console.log('GigsoKeyboard Demo: Octave select changed to:', e.target.value);
                            console.log('GigsoKeyboard Demo: Component before setOctave:', component);
                            component.setOctave(parseInt(e.target.value));
                            console.log('GigsoKeyboard Demo: Component after setOctave:', component);
                            logEvent('Octave changed to ' + e.target.value, 'success');
                            updateStatus('Octave updated to ' + e.target.value);
                        } catch (error) {
                            console.error('GigsoKeyboard Demo: Error setting octave:', error);
                            logEvent('Error setting octave: ' + error.message, 'error');
                        }
                    });
                }
                
                if (keyboardSize) {
                    keyboardSize.addEventListener('change', (e) => {
                        try {
                            console.log('GigsoKeyboard Demo: Size select changed to:', e.target.value);
                            console.log('GigsoKeyboard Demo: Component before setSize:', component);
                            component.setSize(e.target.value);
                            console.log('GigsoKeyboard Demo: Component after setSize:', component);
                            logEvent('Size changed to ' + e.target.value, 'success');
                            updateStatus('Keyboard size updated to ' + e.target.value);
                        } catch (error) {
                            console.error('GigsoKeyboard Demo: Error setting size:', error);
                            logEvent('Error setting size: ' + error.message, 'error');
                        }
                    });
                }
                
                if (playScaleBtn) {
                    playScaleBtn.addEventListener('click', () => {
                        try {
                            component.playScale();
                            logEvent('Scale played', 'success');
                            updateStatus('Playing scale');
                        } catch (error) {
                            logEvent('Error playing scale: ' + error.message, 'error');
                        }
                    });
                }
                
                if (stopKeysBtn) {
                    stopKeysBtn.addEventListener('click', () => {
                        try {
                            component.stopAll();
                            logEvent('All keys stopped', 'warning');
                            updateStatus('All notes stopped');
                        } catch (error) {
                            logEvent('Error stopping keys: ' + error.message, 'error');
                        }
                    });
                }
                
                // Listen for keyboard events
                component.addEventListener('key-press', (e) => {
                    logEvent('Key pressed: ' + e.detail.note, 'success');
                });
                
                component.addEventListener('octave-change', (e) => {
                    logEvent('Octave changed: ' + e.detail.octave, 'info');
                });
                
                // Log component initialization
                logEvent('GigsoKeyboard component initialized successfully', 'success');
                updateStatus('GigsoKeyboard component ready for interaction');
            };
            
            // Start waiting for custom element definition
            waitForComponent();
        });
    </script>
  </body>
</html>
